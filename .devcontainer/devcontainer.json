// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/docker-existing-dockerfile
{
	"name": "Modulus",
	"build": {
        "dockerfile": "Dockerfile",
        "context": "..",
        "args": {
            // docker build
            // Update 'VARIANT' to pick a Python version: 3, 3.9, 3.8, 3.7, 3.6.
            // Append -bullseye or -buster to pin to an OS version.
            // Use -bullseye variants on local on arm64/Apple Silicon.
            // "VARIANT": "3.9",
            // // Options
            // "NODE_VERSION": "lts/*"
        }
        // "dockerComposeFile": "docker-compose.yaml"
    },
	// "image": "nvcr.io/nvidia/pytorch:24.05-py3", //directly pick a built image
	"forwardPorts": [8888],
	"customizations": {
	  // Configure properties specific to VS Code.
	  "vscode": {
		// Add the IDs of extensions you want installed when the container is created.
		"extensions": [
			"MS-CEINTL.vscode-language-pack-zh-hans",
			"ms-python.python",
			"formulahendry.code-runner",
			"ms-python.vscode-pylance",
			"VisualStudioExptTeam.vscodeintellicode",
			"shd101wyy.markdown-preview-enhanced",
			"GitHub.copilot",
			"GitHub.copilot-chat",
			"ms-python.debugpy",
		],
	  }
	  
	},
	// docker run
	"runArgs": [
		"--name", "Modulus_YWJ_container",
		"--gpus", "all",

		// "-v", "${localWorkspaceFolder}:/code"
	],

  }